## 复制粘贴

1. 进入 normal/正常模式（刚进入 vim 的默认模式），如果你在 insert 模式，按下若干次 Esc 可以进入 normal 模式。
2. 把光标移动到开始复制的位置。
3. 按下 `v` 来选择字符。（也可以用 `V` 来选择整行，`Ctrl-v` 来选择矩形块）
4. [光标移动](https://harttle.land/2015/11/07/vim-cursor.html) 到结束复制的位置。
5. 按下 `y` 来复制。
6. 光标移动到想要粘贴的位置，按下 `p` 粘贴。（或者 `P` 粘贴在当前光标位置之前）。

把 `p` 换成 `gp` 可以在粘贴完成时，把光标移动到粘贴内容结束的位置。`gP` 同样适用。

## 剪切粘贴

1. 进入 normal 模式（刚进入 vim 的默认模式），如果你在 insert 模式，按下若干次 Esc 可以进入 normal 模式。
2. 把 [光标移动](https://harttle.land/2015/11/07/vim-cursor.html) 到开始复制的位置。
3. 按下 `v` 来选择字符。（也可以用 `V` 来选择整行，`Ctrl-v` 来选择矩形块）
4. 光标移动到结束复制的位置。
5. 按下 `d` 来剪切。
6. 光标移动到想要粘贴的位置，按下 `p` 粘贴。（或者 `P` 粘贴在当前光标位置之前）。

## 配合光标移动来复制

`y` 和 `d` 分别用于复制和剪切，但除了 `v` 还有很多更方便的选区方式。事实上所有光标移动命令都可以用来选区，比如：

- `yy` 或 `Y` 复制当前行。
- `yw` 用来复制往后一个词，`y3w` 复制往后三个词。
- `yiw` 复制当前词。
- `y$` 复制到行尾，`y^` 复制到行首。
- `yf.` 复制直到下一个 `.` 字符。
- `ggyG` 或 `:%y` 复制整个文件。

以上 `y` 改成 `d` 就可以用于剪切，更多光标移动方式可以参考 [Vim 中如何快速移动光标？](https://harttle.land/2015/11/07/vim-cursor.html)。

## 在 insert/插入模式粘贴

在 normal 模式按下 `i` 或者 `a` 可以进入插入模式，也就是键入内容的模式。`p` 快捷键不可用于插入模式，但是插入模式可以通过 `Ctrl+r` 来访问所有的寄存器，插入寄存器里的内容。所有剪切、拷贝、删除的内容都会存在不同的 Vim 寄存器里。比如：

- `Ctrl+r` `"` 插入最近一次复制/剪切/删除的内容。`"` 是 Vim 的匿名寄存器。
- `Ctrl+r` `0` 插入最近一次复制的内容。其中 `0` 属于 Vim 的编号寄存器，保存最近一次拷贝的内容。

此外寄存器还保存有当前文件名、最近一次执行的命令、最近一次搜索内容、最近一次插入文本等。可以参考 [Vim 寄存器完全手册](https://harttle.land/2016/07/25/vim-registers.html)。

## 在 command-line/命令行模式粘贴

在 normal 模式按下 `:` 可以进入命令行模式，用来执行比如切换文件，保存关闭等操作。这个模式下仍然可以使用 `Ctrl-r`，但还可以编辑每一条命令：

- `Ctrl+r` `"` 插入最近一次复制/剪切/删除的内容。`"` 是 Vim 的匿名寄存器。
- `Ctrl+r` `0` 插入最近一次复制的内容。其中 `0` 属于 Vim 的编号寄存器，保存最近一次拷贝的内容。
- `Ctrl+f` 选择一条历史命令（包括当前正在键入的命令）来编辑。然后就进入了 normal 模式，编辑完成后回车来执行命令。

## 复制多项内容/复制历史

复制内容是没有历史的，但删除历史保存在编号寄存器 1-9 中（以行为单位的删除或者超过一行的删除才会进入编号寄存器）：

- `"1` 保存上一次删除的内容。
- `"2` 保存上上次删除的内容。
- `"3` 保存上上上次删除的内容。
- 以此类推……

Vim 有 26 个命名寄存器（`"a`-`"z`），可以在删除或复制之前加寄存器名字，来保存在某个寄存器中，这样可以同时保存很多拷贝的内容。比如：

- 按下 `v` 选则需要复制的区域。
- `"ay` 把选区复制到 `"a` 寄存器中。
- `"ap` 把寄存器 `"a` 的内容粘贴出来。

## 复制到系统剪切板/从系统剪切版粘贴

寄存器 `"*` 和 `"+` 在 Mac 和 Windows 中，都是指系统剪切板（clipboard），例如 `"*yy` 即可复制当前行到系统剪切板。 其他程序中复制的内容也会被存储到这两个寄存器中。 在 X11 系统中（绝大多数带有桌面环境的 Linux 发行版），二者是有区别的：

- `"*` 指 X11 中的 PRIMARY 选区，即鼠标选中区域。在桌面系统中可按鼠标中键粘贴。
- `"+` 指 X11 中的 CLIPBOARD 选区，即系统剪切板。在桌面系统中可按 Ctrl+V 粘贴。

# 目录树快捷键

目录插件nvim-tree.nvim

| 快捷键       | 模式  | 描述                       |
| ------------ | ----- | -------------------------- |
| `a`          | **N** | 创建文件和文件夹（/）      |
| `f`          | **N** | 查询文件（区分大小写）     |
| `E`          | **N** | 展开目录树                 |
| `W`          | N     | 关闭目录树                 |
| `F`          | N     | 清除查询条件               |
| `d`          | N     | 删除文件或文件夹           |
| `g?`         | N     | 快捷键列表                 |
| `o`          | N     | 打开文件                   |
| `p`          | N     | 粘贴                       |
| `q`          | N     | 关闭                       |
| `r`          | N     | 重命名文件或文件夹         |
| `u`          | N     | 重命名，显示全路径         |
| `c`          | N     | 拷贝文件                   |
| `y`          | N     | 拷贝文件名                 |
| `x`          | N     | 剪切文件                   |
| `y`          | N     | 拷贝文件名                 |
| `Y`          | N     | 拷贝相对路径               |
| `R`          | N     | 刷新目录                   |
| `y`          | N     | 拷贝文件名                 |
| `s`          | N     | 在系统中打开文件夹或者文件 |
| `gy`         | N     | 拷贝全路径                 |
| `Space`+ `e` | N     | 打开树目录                 |
| `Ctrl` + `n` | N     | 打开或者关闭树目录         |

## 编辑快捷键

| 快捷键         | 模式   | 描述                          |
| -------------- | ------ | ----------------------------- |
| `i`            | N      | 在光标前插入                  |
| `a`            | N      | 在光标后插入                  |
| `I`            | N      | 在光标行头部插入              |
| `A`            | N      | 在光标行尾部插入              |
| `o`            | N      | 在光标行下面添加新行          |
| `O`            | N      | 在光标行上面添加新行          |
| `Shift` + g    | **N**  | 切换到最后一行   gg 跳到首行  |
| `Space`+`/`    | **NV** | 单行注释，类似// ，–，#等注释 |
| `gcc`          | **N**  | 单行注释，类似// ，–，#等注释 |
| `Tab`          | N      | 切换不同tab页面               |
| `Ctrl` + `h`   | I      | 向前移动光标                  |
| `Ctrl` + `j`   | I      | 向下移动光标                  |
| `Ctrl` + `k`   | I      | 向上移动光标                  |
| `Ctrl` + `l`   | I      | 向左移动光标                  |
| `jj`           | I      | 切换N模式                     |
| `Esc`          | I      | 切换N模式                     |
| `Ctrl` + `s`   | **N**  | 保存文件内容                  |
| `Ctrl` + `c`   | **N**  | 复制文件所有内容              |
| `；`           | **N**  | 切换C模式                     |
| `Space` + `fm` | **N**  | 格式化文件                    |
| `Space` + `n`  | **N**  | 显示或隐藏行号                |
| `Ctrl` + `b`   | I      | 光标移动到行首                |
| `Ctrl` + `e`   | I      | 光标移动到行尾                |
| `Alt` + `i`    | N      | 打开或关闭浮动命令行          |
| `Alt` + `h`    | N      | 横向打开或关闭命令行          |
| `Alt` + `v`    | N      | 纵向打开或关闭命令行          |
| `Space` + `h`  | N      | 横向打开命令行                |
| `Space` + `v`  | N      | 纵向打开命令行                |
| `Ctrl` + `r`   | N      | 重做                          |
| `u`            | N      | 撤销                          |
| `dG`           | N      | 清空文件                      |
| `dd`           | N      | 删除一行                      |
| `ndd`          | N      | 删除n行                       |
| `Space` + `ca` | N      | 代码修复（如删除无用引用等）  |

## 导航快捷键

| 快捷键          | 模式   | 描述                                                         |
| --------------- | ------ | ------------------------------------------------------------ |
| `j` / `k`       | **NV** | 文本中光标向上或向下移动一行                                 |
| `h` / `l`       | **NV** | 文本中光标向左或向右移动一个字符                             |
| `gh` / `gl`     | **NV** | 文本中光标移动到行首或行位                                   |
| `;`             | **N**  | 切换到Command模式                                            |
| `Shift` +`:`    | N      | 切换到Command模式                                            |
| `Ctrl` + `h`    | **N**  | 分屏时，向下移动                                             |
| `Ctrl` + `k`    | **N**  | 分屏时，向上移动                                             |
| `Ctrl` + `h`    | **N**  | 分屏时，向左移动                                             |
| `Ctrl` + `l`    | **N**  | 分屏时，向右移动                                             |
| `Tab`           | **N**  | 向后切换tab页面                                              |
| `Shift` / `Tab` | **N**  | 向前切换tab页面                                              |
| `Ctrl` + `{`    | **NV** | 向上移动，移动到空行位置，如果是V模式，选中到空行位置        |
| `Ctrl` + `}`    | **NV** | 向下移动，移动到空行位置，如果是V模式，选中到空行位置        |
| `Space` + `ch`  | **NV** | 打开快捷键列表页面                                           |
| `Space` + `th`  | **NV** | 打开样式主题列表                                             |
| `0`             | N      | 移到行首                                                     |
| `$`             | N      | 移到行尾                                                     |
| `nG`            | N      | 移到n行                                                      |
| `:n`            | C      | 移到n行                                                      |
| `:0`            | C      | 移到文件头部                                                 |
| `:$`            | C      | 移到文件尾部                                                 |
| `w`             | N      | 将光标移动到下一个单词的开头                                 |
| `e`             | N      | 将光标移动到当前单词的末尾                                   |
| `b`             | N      | 将光标移动到前一个单词的开头                                 |
| `Ctrl` + `b`    | N      | 向上翻页                                                     |
| `Ctrl` + `f`    | N      | 向下翻页                                                     |
| `Command` + `/` | N      | 查询操作，输入查询字符串，回车进行查询，按‘n’下移，shift+n上移 |

## 折叠代码

| 快捷键            | 模式   | 描述                              |
| ----------------- | ------ | --------------------------------- |
| `:set foldmethod` | **C**  | 设置indent,marker                 |
| `zc`              | **N**  | 折叠代码,indent模式               |
| `zo`              | **NV** | 打开折叠代码，indent模式          |
| `zM`              | **N**  | 折叠所有代码                      |
| `zR`              | **N**  | 全部展开                          |
| `zfnG`            | **NV** | 单位位置折叠到n行位置，marker模式 |
| `zd`              | **N**  | 删除折叠                          |
| `zD`              | **N**  | 删除折叠,如果内部有嵌套一起删除   |
| `zE`              | N      | 删除当前屏幕的折叠                |
| `zfn/nzf/nzf+`    | **N**  | 向下折叠n行                       |
| `10zf-`           | **N**  | 向上折叠n行                       |
| `zf%`             | **N**  | 折叠[],{},()中的代码              |

## 搜索快捷键

| 快捷键             | 模式   | 描述                                                   |
| ------------------ | ------ | ------------------------------------------------------ |
| `Space` + `ff`     | **N**  | 弹出自动补全列表时，切换到补全列表中                   |
| `Ctrl` + `Space`   | **I**  | 如果自动补全列表已关闭，使用该快捷键重新弹出列表       |
| `Enter`            | **I**  | 选择补全内容后`Enter`建确认                            |
| `Ctrl` + `p` / `n` | **NV** | 切换当补全列表中后，使用快捷键上下移动光标             |
| `Ctrl` + `b` / `f` | **N**  | 切换当补全列表中后，使用快捷键上下滚动补全项的说明文档 |
| `Ctrl` / `j`       | **N**  | 分屏时，向下移动                                       |
| `Ctrl` / `k`       | **N**  | 分屏时，向上移动                                       |
| `Ctrl` / `h`       | **N**  | 分屏时，向左移动                                       |
| `Ctrl` / `l`       | **N**  | 分屏时，向右移动                                       |
| `]m` / `[m`        | **N**  | 前一个函数或后一个函数，跳动以大括号的位置进行跳动{}   |
| `Ctrl` / `f`       | **N**  | 后一页                                                 |
| `Ctrl` / `b`       | **N**  | 前一页                                                 |

## LSP 快捷键

| 快捷键             | 模式   | 描述                                                   |
| ------------------ | ------ | ------------------------------------------------------ |
| `Space` + `cf`     | **N**  | 代码格式化                                             |
| `Space` + cr       | **N**  | 变量重命名                                             |
| `Enter`            | **N**  | 选择补全内容后`Enter`建确认                            |
| `Ctrl` + `p` / `n` | **NV** | 切换当补全列表中后，使用快捷键上下移动光标             |
| `Ctrl` + `b` / `f` | **N**  | 切换当补全列表中后，使用快捷键上下滚动补全项的说明文档 |
| `Ctrl` / `j`       | **N**  | 分屏时，向下移动                                       |
| `Ctrl` / `k`       | **N**  | 分屏时，向上移动                                       |
| `Ctrl` / `h`       | **N**  | 分屏时，向左移动                                       |
| `Ctrl` / `l`       | **N**  | 分屏时，向右移动                                       |
| `]m` / `[m`        | **N**  | 前一个函数或后一个函数，跳动以大括号的位置进行跳动{}   |
| `Ctrl` / `f`       | **N**  | 后一页                                                 |
| `Ctrl` / `b`       | **N**  | 前一页                                                 |

## 剪切板快捷键

| 快捷键         | 模式   | 描述                         |
| -------------- | ------ | ---------------------------- |
| `yy`           | N      | 复制一行                     |
| `dd`           | N      | 删除一行                     |
| `p` / `P`      | **I**  | 粘贴                         |
| `Space` + `y`  | **N**  | 复制文件的相对路径           |
| `Space` + `Y`  | **N**  | 复制文件的绝对路径           |
| `y`            | **NV** | 复制一行或者选择的区域字符串 |
| `Space` + `d`  | **NV** | 复制一行或者选择的区域字符串 |
| `Space` + `cp` | **N**  | 复制一段落字符串             |

## 编辑 UI快捷键

| 快捷键                  | 模式  | 描述                                                         |
| ----------------------- | ----- | ------------------------------------------------------------ |
| `Space` + `uf`          | **N** | 格式化并保存，效果没试出来                                   |
| `Space` + `us`          | **N** | 拼写检查或不检查                                             |
| `Space` + `ul`          | **N** | 显示或隐藏行号                                               |
| `Space` + `uu`          | **N** | 隐藏高亮查询结果                                             |
| `Space` + `uw`          | **N** | 全屏展示，如果一行内容过长，可以自动换行展示（不是回车展示，会根据屏幕大小自动调整） |
| `Space` + `ue`          | **N** | 显示或者隐藏缩进线                                           |
| `Space` + `uC`          | **N** | 显示主题列表，可进行主题调整                                 |
| `Space` + `un`          | **N** | 隐藏所有的通知信息                                           |
| `g1`                    | **N** | 切换到第一个tab                                              |
| `g9`                    | **N** | 切换到最后一个tab                                            |
| `Ctrl` + `Tab`          | **N** | 切换到下一个tab                                              |
| `Ctrl`+ `Shift` + `Tab` | **N** | 切换到前一个tab                                              |
| `Alt` + `j`             | **N** | 切换到下一个tab                                              |
| `Alt` + `k`             | **N** | 切换到前一个tab                                              |
| `Alt` + `{`             | **N** | tab向前移动一个位置                                          |
| `Alt` + `}`             | **N** | tab向后移动一个位置                                          |

## 窗口管理快捷键

| 快捷键       | 模式  | 描述                                   |
| ------------ | ----- | -------------------------------------- |
| `q`          | **N** | 退出窗口                               |
| `Ctrl` + `x` | **N** | 互换窗口位置                           |
| `sv`         | **N** | 垂直分割屏幕                           |
| `sg`         | **N** | 水平分割屏幕                           |
| `st`         | **N** | 打开一个新的tab                        |
| `so`         | **N** | 关闭其他窗口                           |
| `sb`         | **N** | 切换到前一个打开的文件                 |
| `sc`         | **N** | 关闭当前文件，如果文件没有要保存的内容 |
| `sd`         | **N** | 删除当前buffer                         |
| `sq`         | **N** | 退出窗口                               |
| `sx`         | **N** | 删除当前buffer，留下空白窗口           |
| `sz`         | **N** | 调整窗口大小                           |
| `sh`         | **N** | 切换窗口主题颜色：dark和light          |

## 自定义快捷键

## Telescope 快捷键

## 组合快捷键

| 快捷键       | 模式  | 描述                                               |
| ------------ | ----- | -------------------------------------------------- |
| `ggVG`       | **N** | 全选所有内容，gg移到行首，V进入可视模式，G移到最后 |
| `Ctrl` + `x` | **N** | 互换窗口位置                                       |
| `sv`         | **N** | 垂直分割屏幕                                       |
| `sg`         | **N** | 水平分割屏幕                                       |
| `st`         | **N** | 打开一个新的tab                                    |
| `so`         | **N** | 关闭其他窗口                                       |
| `sb`         | **N** | 切换到前一个打开的文件                             |
| `sc`         | **N** | 关闭当前文件，如果文件没有要保存的内容             |
| `sd`         | **N** | 删除当前buffer                                     |
| `sq`         | **N** | 退出窗口                                           |
| `sx`         | **N** | 删除当前buffer，留下空白窗口                       |
| `sz`         | **N** | 调整窗口大小                                       |
| `sh`         | **N** | 切换窗口主题颜色：dark和light                      |