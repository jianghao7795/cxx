## ğŸš€1ã€gitå‘½ä»¤å¤§å…¨ï¼ˆæ•´ç†æˆè¡¨æ ¼ï¼Œæ–¹ä¾¿æŸ¥é˜…ï¼‰

### åˆ›å»ºä»“åº“å‘½ä»¤

| å‘½ä»¤             | è¯´æ˜                                                         |
| ---------------- | ------------------------------------------------------------ |
| `git init`       | åˆå§‹åŒ–ä»“åº“ï¼Œåœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ï¼ŒåŸºæœ¬ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ªå…·æœ‰`objects`ï¼Œ`refs/head`ï¼Œ`refs/tags`å’Œæ¨¡æ¿æ–‡ä»¶çš„`.git`ç›®å½•ã€‚ |
| `git clone`[url] | æ‹·è´ä¸€ä»½**è¿œç¨‹ä»“åº“**ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²ã€‚ |

### é…ç½®

| å‘½ä»¤                                                         | è¯´æ˜                         |
| ------------------------------------------------------------ | ---------------------------- |
| `git config --list`                                          | æ˜¾ç¤ºå½“å‰çš„**Gité…ç½®**        |
| git config -e [--global]                                     | ç¼–è¾‘Gité…ç½®æ–‡ä»¶ã€‚            |
| git config [--global] user.name "[name]" git config [--global] user.email "[email address]" | è®¾ç½®æäº¤ä»£ç æ—¶çš„**ç”¨æˆ·ä¿¡æ¯** |

### å¢åŠ  / åˆ é™¤æ–‡ä»¶

| å‘½ä»¤                                  | è¯´æ˜                                                         |
| ------------------------------------- | ------------------------------------------------------------ |
| `git add [file1] [file2] ...`         | æ·»åŠ **æŒ‡å®šæ–‡ä»¶**åˆ°æš‚å­˜åŒº                                     |
| git add [dir]                         | æ·»åŠ **æŒ‡å®šç›®å½•**åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•                         |
| git add .                             | æ·»åŠ å½“å‰ç›®å½•çš„**æ‰€æœ‰æ–‡ä»¶**åˆ°æš‚å­˜åŒº                           |
| git add -p                            | æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤<br/> å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°**åˆ†æ¬¡æäº¤** |
| git rm [file1] [file2] ...            | **åˆ é™¤**å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº                 |
| git rm --cached [file]                | åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº                     |
| git mv [file-original] [file-renamed] | **æ”¹å**æ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº                       |

### ä»£ç æäº¤

| å‘½ä»¤                                        | è¯´æ˜                                                         |
| ------------------------------------------- | ------------------------------------------------------------ |
| `git commit -m [message]`                   | æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº                                           |
| git commit [file1] [file2] ... -m [message] | æäº¤æš‚å­˜åŒºçš„**æŒ‡å®šæ–‡ä»¶**åˆ°ä»“åº“åŒº                             |
| git commit -a                               | æäº¤å·¥ä½œåŒº**è‡ªä¸Šæ¬¡commitä¹‹å**çš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº           |
| git commit -v                               | æäº¤æ—¶æ˜¾ç¤º**æ‰€æœ‰diffä¿¡æ¯**                                   |
| git commit --amend -m [message]             | ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤<br/>å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯ |
| git commit --amend [file1] [file2] ...      | **é‡åšä¸Šä¸€æ¬¡commit**ï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–                 |

### åˆ†æ”¯

| å‘½ä»¤                                                         | è¯´æ˜                                         |
| ------------------------------------------------------------ | -------------------------------------------- |
| git branch                                                   | åˆ—å‡ºæ‰€æœ‰**æœ¬åœ°åˆ†æ”¯**                         |
| git branch -r                                                | åˆ—å‡ºæ‰€æœ‰**è¿œç¨‹åˆ†æ”¯**                         |
| git branch -a                                                | åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œ**è¿œç¨‹åˆ†æ”¯**               |
| git branch [branch-name]                                     | æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯           |
| git checkout -b [branch]                                     | æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯                 |
| git branch [branch] [commit]                                 | æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit                 |
| git branch --track [branch] [remote-branch]                  | æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»   |
| git checkout [branch-name]                                   | åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº                 |
| git checkout -                                               | **åˆ‡æ¢**åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯                         |
| git branch --set-upstream [branch] [remote-branch]           | å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´ |
| git merge [branch]                                           | **åˆå¹¶**æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯                   |
| git cherry-pick [commit]                                     | é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯               |
| git branch -d [branch-name]                                  | **åˆ é™¤åˆ†æ”¯**                                 |
| git push origin --delete [branch-name] æˆ– git branch -dr [remote/branch] | **åˆ é™¤è¿œç¨‹åˆ†æ”¯**                             |

### æ ‡ç­¾

| å‘½ä»¤                                 | è¯´æ˜                      |
| ------------------------------------ | ------------------------- |
| git tag                              | åˆ—å‡ºæ‰€æœ‰tag               |
| git tag [tag]                        | æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit   |
| git tag [tag] [commit]               | æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit   |
| git tag -d [tag]                     | åˆ é™¤**æœ¬åœ°tag**           |
| git push origin :refs/tags/[tagName] | åˆ é™¤**è¿œç¨‹tag**           |
| git show [tag]                       | æŸ¥çœ‹tagä¿¡æ¯               |
| git push [remote] [tag]              | æäº¤**æŒ‡å®štag**           |
| git push [remote] --tags             | æäº¤**æ‰€æœ‰tag**           |
| git checkout -b [branch] [tag]       | æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag |

### æŸ¥çœ‹ä¿¡æ¯å’Œå†å²

| å‘½ä»¤                                              | è¯´æ˜                                                       |
| ------------------------------------------------- | ---------------------------------------------------------- |
| git status                                        | æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶                                           |
| git log                                           | æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²                                     |
| git log --stat                                    | æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶               |
| git log -S [keyword]                              | æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯                                   |
| git log [tag] HEAD --pretty=format:%s             | æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ           |
| git log [tag] HEAD --grep feature                 | æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶ |
| git log --follow [file] æˆ– git whatchanged [file] | æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å                       |
| git log -p [file]                                 | æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff                               |
| git log -5 --pretty --oneline                     | æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤                                            |
| git shortlog -sn                                  | æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº                       |
| git blame [file]                                  | æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡                       |
| git diff                                          | æ˜¾ç¤º**æš‚å­˜åŒºå’Œå·¥ä½œåŒº**çš„å·®å¼‚                               |
| git diff --cached [file]                          | æ˜¾ç¤º**æš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommit**çš„å·®å¼‚                         |
| git diff HEAD                                     | æ˜¾ç¤º**å·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´**çš„å·®å¼‚               |
| git diff [first-branch]...[second-branch]         | æ˜¾ç¤º**ä¸¤æ¬¡æäº¤ä¹‹é—´**çš„å·®å¼‚                                 |
| git diff --shortstat "@{0 day ago}"               | **æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç **                               |
| git show [commit]                                 | æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–                             |
| git show --name-only [commit]                     | æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶                                 |
| git show [commit]:[filename]                      | æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹                             |
| git reflog                                        | æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤                                 |

### è¿œç¨‹åŒæ­¥

| å‘½ä»¤                                                         | è¯´æ˜                                                     |
| ------------------------------------------------------------ | -------------------------------------------------------- |
| git fetch [remote]                                           | ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨ï¼ˆ**è¿œç¨‹æ–°å¢æˆ–åˆ é™¤åˆ†æ”¯éƒ½èƒ½æ˜¾ç¤º**ï¼‰ |
| git remote -v                                                | æ˜¾ç¤º**æ‰€æœ‰è¿œç¨‹ä»“åº“**                                     |
| git config [--global] user.name "[name]" git config [--global] user.email "[email address]" | è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯                                 |
| git remote show [remote]                                     | æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯                                   |
| git remote add [shortname] [url]                             | å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å                             |
| git pull [remote] [branch]                                   | å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶                     |
| git push [remote] [branch]                                   | ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“                               |
| git push [remote] --force                                    | å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª                   |
| git push [remote] --all                                      | æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“                                   |

### æ’¤é”€

| å‘½ä»¤                         | è¯´æ˜                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| `git checkout [file]`        | æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº                                 |
| git checkout [commit] [file] | æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº                     |
| git checkout .               | æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº                                 |
| git reset [file]             | é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜   |
| git reset --hard             | é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´                   |
| git reset [commit]           | é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜ |
| git reset --hard [commit]    | é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´ |
| git reset --keep [commit]    | é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜           |
| git revert [commit]          | æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit<br/>åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ |
| git stash                    | æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥                           |
| git stash pop                | æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥                           |

### å…¶ä»–

| å‘½ä»¤                   | è¯´æ˜                                                         |
| ---------------------- | ------------------------------------------------------------ |
| git archive            | ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…                                     |
| git repack             | æ‰“åŒ…æœªå½’æ¡£æ–‡ä»¶                                               |
| git count-objects      | è®¡ç®—è§£åŒ…çš„å¯¹è±¡æ•°é‡                                           |
| git help æˆ– git --help | **Gitå¸®åŠ©**ï¼ŒæŸ¥çœ‹gitç›¸å…³å‘½ä»¤ï¼Œå¦‚æœæƒ³çœ‹æŸä¸ªç‰¹å®šå‘½ä»¤çš„å…·ä½“ç»†èŠ‚ï¼Œå¯ä½¿ç”¨git [å‘½ä»¤] --help,å¦‚ **git commit --help** è¡¨ç¤ºæŸ¥çœ‹æäº¤ç›¸å…³å‘½ä»¤çš„å¸®åŠ© |

## ğŸ¨2ã€Gitæ“ä½œæµç¨‹

gitçš„æ“ä½œå¾€å¾€éƒ½ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤èƒ½è§£å†³çš„ï¼Œå°±æ¯”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå•å•**ä»£ç æäº¤å’ŒåŒæ­¥ä»£ç **ï¼Œå°±æ¶‰åŠåˆ°6ä¸ªå‘½ä»¤çš„ç»„åˆã€‚

çœ‹å®Œäº†gitå‘½ä»¤å¤§å…¨ï¼Œè¿™èŠ‚åˆ—ä¸¾äº†å®é™…æ“ä½œä¸­çš„ä¸åŒåœºæ™¯ï¼Œä¸ºå¤§å®¶ä¸€ä¸€è§£ç­”å¦‚ä½•ç»„åˆä¸åŒgitå‘½ä»¤ï¼Œè¿›è¡Œgitçš„æ“ä½œæµç¨‹ã€‚

- ä»£ç æäº¤å’ŒåŒæ­¥ä»£ç 

<img width="613" height="292" alt="gitä»£ç æ¯”è¾ƒå’ŒåŒæ­¥ä»£ç " src="https://img.beierblog.com/20220717blog/git-four-areas.png"/>

- ä»£ç æ’¤é”€å’Œæ’¤é”€åŒæ­¥

<img width="613" height="292" alt="gitä»£ç æ’¤é”€å’Œæ’¤é”€åŒæ­¥" src="https://img.beierblog.com/20220717blog/git-five-states_7a70f7856af64ecfa3d4054518da5eb2.png"/>

### ğŸ“1ã€ä»£ç æäº¤å’ŒåŒæ­¥ä»£ç 

- ç¬¬é›¶æ­¥: å·¥ä½œåŒºä¸ä»“åº“ä¿æŒä¸€è‡´
- ç¬¬ä¸€æ­¥: æ–‡ä»¶å¢åˆ æ”¹ï¼Œå˜ä¸ºå·²ä¿®æ”¹çŠ¶æ€
- ç¬¬äºŒæ­¥: git add ï¼Œå˜ä¸ºå·²æš‚å­˜çŠ¶æ€

```bash
$ git status
$ git add --all # å½“å‰é¡¹ç›®ä¸‹çš„æ‰€æœ‰æ›´æ”¹
$ git add .  # å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ›´æ”¹
$ git add xx/xx.py xx/xx2.py  # æ·»åŠ æŸå‡ ä¸ªæ–‡ä»¶
```

- ç¬¬ä¸‰æ­¥: git commitï¼Œå˜ä¸ºå·²æäº¤çŠ¶æ€

```bash
$ git commit -m"<è¿™é‡Œå†™commitçš„æè¿°>"
```

- ç¬¬å››æ­¥: git pushï¼Œå˜ä¸ºå·²æ¨é€çŠ¶æ€

```bash
$ git push -u origin master # ç¬¬ä¸€æ¬¡éœ€è¦å…³è”ä¸Š
$ git push # ä¹‹åå†æ¨é€å°±ä¸ç”¨æŒ‡æ˜åº”è¯¥æ¨é€çš„è¿œç¨‹åˆ†æ”¯äº†
$ git branch # å¯ä»¥æŸ¥çœ‹æœ¬åœ°ä»“åº“çš„åˆ†æ”¯
$ git branch -a # å¯ä»¥æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œæœ¬åœ°è¿œç¨‹ä»“åº“(è¿œç¨‹ä»“åº“çš„æœ¬åœ°é•œåƒ)çš„æ‰€æœ‰åˆ†æ”¯
```

> åœ¨æŸä¸ªåˆ†æ”¯ä¸‹ï¼Œæˆ‘æœ€å¸¸ç”¨çš„æ“ä½œå¦‚ä¸‹

```bash
$ git status
$ git add -a
$ git status
$ git commit -m 'xxx'
$ git pull --rebase
$ git push origin xxbranch` 
```

### 2ã€ä»£ç æ’¤é”€å’Œæ’¤é”€åŒæ­¥

##### ä¸€ã€å·²ä¿®æ”¹ï¼Œä½†æœªæš‚å­˜

```bash
$ git diff # åˆ—å‡ºæ‰€æœ‰çš„ä¿®æ”¹
$ git diff xx/xx.py xx/xx2.py # åˆ—å‡ºæŸ(å‡ )ä¸ªæ–‡ä»¶çš„ä¿®æ”¹

$ git checkout # æ’¤é”€é¡¹ç›®ä¸‹æ‰€æœ‰çš„ä¿®æ”¹
$ git checkout . # æ’¤é”€å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„ä¿®æ”¹
$ git checkout xx/xx.py xx/xx2.py # æ’¤é”€æŸå‡ ä¸ªæ–‡ä»¶çš„ä¿®æ”¹
$ git clean -f # untrackedçŠ¶æ€ï¼Œæ’¤é”€æ–°å¢çš„æ–‡ä»¶
$ git clean -df # untrackedçŠ¶æ€ï¼Œæ’¤é”€æ–°å¢çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹

# Untracked files:
#  (use "git add <file>..." to include in what will be committed)
#
#    xxx.py
```

##### äºŒã€å·²æš‚å­˜ï¼Œæœªæäº¤

> è¿™ä¸ªæ—¶å€™å·²ç»æ‰§è¡Œè¿‡git addï¼Œä½†æœªæ‰§è¡Œgit commitï¼Œä½†æ˜¯ç”¨git diffå·²ç»çœ‹ä¸åˆ°ä»»ä½•ä¿®æ”¹ã€‚ å› ä¸ºgit diffæ£€æŸ¥çš„æ˜¯å·¥ä½œåŒºä¸æš‚å­˜åŒºä¹‹é—´çš„å·®å¼‚ã€‚

```bash
$ git diff --cached # è¿™ä¸ªå‘½ä»¤æ˜¾ç¤ºæš‚å­˜åŒºå’Œæœ¬åœ°ä»“åº“çš„å·®å¼‚

$ git reset # æš‚å­˜åŒºçš„ä¿®æ”¹æ¢å¤åˆ°å·¥ä½œåŒº
$ git reset --soft # ä¸git resetç­‰ä»·ï¼Œå›åˆ°å·²ä¿®æ”¹çŠ¶æ€ï¼Œä¿®æ”¹çš„å†…å®¹ä»ç„¶åœ¨å·¥ä½œåŒºä¸­
$ git reset --hard # å›åˆ°æœªä¿®æ”¹çŠ¶æ€ï¼Œæ¸…ç©ºæš‚å­˜åŒºå’Œå·¥ä½œåŒº
```

> git reset --hard æ“ä½œç­‰ä»·äº git reset å’Œ git checkout 2æ­¥æ“ä½œ

##### ä¸‰ã€å·²æäº¤ï¼Œæœªæ¨é€

> æ‰§è¡Œå®Œcommitä¹‹åï¼Œä¼šåœ¨ä»“åº“ä¸­ç”Ÿæˆä¸€ä¸ªç‰ˆæœ¬å·(hashå€¼)ï¼Œæ ‡å¿—è¿™æ¬¡æäº¤ã€‚ä¹‹åä»»ä½•æ—¶å€™ï¼Œéƒ½å¯ä»¥å€ŸåŠ©è¿™ä¸ªhashå€¼å›é€€åˆ°è¿™æ¬¡æäº¤ã€‚

```bash
$ git diff <branch-name1> <branch-name2> # æ¯”è¾ƒ2ä¸ªåˆ†æ”¯ä¹‹é—´çš„å·®å¼‚
$ git diff master origin/master # æŸ¥çœ‹æœ¬åœ°ä»“åº“ä¸æœ¬åœ°è¿œç¨‹ä»“åº“çš„å·®å¼‚

$ git reset --hard origin/master # å›é€€ä¸æœ¬åœ°è¿œç¨‹ä»“åº“ä¸€è‡´
$ git reset --hard HEAD^ # å›é€€åˆ°æœ¬åœ°ä»“åº“ä¸Šä¸€ä¸ªç‰ˆæœ¬
$ git reset --hard <hash code> # å›é€€åˆ°ä»»æ„ç‰ˆæœ¬
$ git reset --soft/git reset # å›é€€ä¸”å›åˆ°å·²ä¿®æ”¹çŠ¶æ€ï¼Œä¿®æ”¹ä»ä¿ç•™åœ¨å·¥ä½œåŒºä¸­ã€‚ 
```

##### å››ã€å·²æ¨é€åˆ°è¿œç¨‹

```bash
$ git push -f orgin master # å¼ºåˆ¶è¦†ç›–è¿œç¨‹åˆ†æ”¯
$ git push -f # å¦‚æœä¹‹å‰å·²ç»ç”¨ -u å…³è”è¿‡ï¼Œåˆ™å¯çœç•¥åˆ†æ”¯å
```

> æ…ç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœ¬åœ°åˆ†æ”¯æ¯”è¿œç¨‹è¦æ–°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ¨é€åˆ°è¿œç¨‹ï¼Œä½†æœ‰æ—¶æ¨é€åˆ°è¿œç¨‹åå‘ç°æœ‰é—®é¢˜ï¼Œè¿›è¡Œäº†ç‰ˆæœ¬å›é€€ï¼Œæ—§ç‰ˆæœ¬æˆ–è€…åˆ†å‰ç‰ˆæœ¬æ¨é€åˆ°è¿œç¨‹ï¼Œéœ€è¦æ·»åŠ  -få‚æ•°ï¼Œè¡¨ç¤ºå¼ºåˆ¶è¦†ç›–ã€‚

### ğŸ·ï¸3ã€å…¶å®ƒå¸¸è§æ“ä½œ

#### ä¸€ã€å…³è”è¿œç¨‹ä»“åº“

- å¦‚æœè¿˜æ²¡æœ‰Gitä»“åº“ï¼Œä½ éœ€è¦

```bash
$ git init
```

- å¦‚æœä½ æƒ³å…³è”è¿œç¨‹ä»“åº“

```bash
$ git remote add <name> <git-repo-url>
# ä¾‹å¦‚ git remote add origin https://github.com/xxxxxx # æ˜¯è¿œç¨‹ä»“åº“çš„åç§°ï¼Œé€šå¸¸ä¸º origin 
```

- å¦‚æœä½ æƒ³å…³è”å¤šä¸ªè¿œç¨‹ä»“åº“

```bash
$ git remote add <name> <another-git-repo-url>
# ä¾‹å¦‚ git remote add coding https://coding.net/xxxxxx 
```

- å¿˜äº†å…³è”äº†å“ªäº›ä»“åº“æˆ–è€…åœ°å€

```bash
$ git remote -v
# origin https://github.com/gzdaijie/koa-react-server-render-blog.git (fetch)
# origin https://github.com/gzdaijie/koa-react-server-render-blog.git (push) 
```

- å¦‚æœè¿œç¨‹æœ‰ä»“åº“ï¼Œä½ éœ€è¦cloneåˆ°æœ¬åœ°

```bash
$ git clone <git-repo-url>
# å…³è”çš„è¿œç¨‹ä»“åº“å°†è¢«å‘½åä¸ºoriginï¼Œè¿™æ˜¯é»˜è®¤çš„ã€‚
```

- å¦‚æœä½ æƒ³æŠŠåˆ«äººä»“åº“çš„åœ°å€æ”¹ä¸ºè‡ªå·±çš„

```bash
$ git remote set-url origin <your-git-url>
```

#### äºŒã€ åˆ‡æ¢åˆ†æ”¯

> æ–°å»ºä»“åº“åï¼Œé»˜è®¤ç”Ÿæˆäº†masteråˆ†æ”¯

- å¦‚æœä½ æƒ³æ–°å»ºåˆ†æ”¯å¹¶åˆ‡æ¢

```bash
$ git checkout -b <new-branch-name>
# ä¾‹å¦‚ git checkout -b dev
# å¦‚æœä»…æ–°å»ºï¼Œä¸åˆ‡æ¢ï¼Œåˆ™å»æ‰å‚æ•° -b
```

- çœ‹çœ‹å½“å‰æœ‰å“ªäº›åˆ†æ”¯

```bash
$ git branch
# * dev
#   master # æ ‡*å·çš„ä»£è¡¨å½“å‰æ‰€åœ¨çš„åˆ†æ”¯
```

- çœ‹çœ‹å½“å‰æœ¬åœ°&è¿œç¨‹æœ‰å“ªäº›åˆ†æ”¯

```bash
$ git branch -a
# * dev
#   master
#   remotes/origin/master
```

- åˆ‡æ¢åˆ°ç°æœ‰çš„åˆ†æ”¯

```bash
$ git checkout master
```

- ä½ æƒ³æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯

```bash
$ git merge <branch-name>
# ä¾‹å¦‚ git merge dev
```

- ä½ æƒ³æŠŠæœ¬åœ°masteråˆ†æ”¯æ¨é€åˆ°è¿œç¨‹å»

```bash
$ git push origin master
# ä½ å¯ä»¥ä½¿ç”¨git push -u origin masterå°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”ï¼Œä¹‹åä»…éœ€è¦ä½¿ç”¨git pushå³å¯ã€‚
```

- è¿œç¨‹åˆ†æ”¯è¢«åˆ«äººæ›´æ–°äº†ï¼Œä½ éœ€è¦æ›´æ–°ä»£ç 

```bash
$ git pull origin <branch-name>
# ä¹‹å‰å¦‚æœpushæ—¶ä½¿ç”¨è¿‡-uï¼Œé‚£ä¹ˆå°±å¯ä»¥çœç•¥ä¸ºgit pull
```

- æœ¬åœ°æœ‰ä¿®æ”¹ï¼Œèƒ½ä¸èƒ½å…ˆgit pull

```bash
$ git stash # å·¥ä½œåŒºä¿®æ”¹æš‚å­˜
$ git pull  # æ›´æ–°åˆ†æ”¯
$ git stash pop # æš‚å­˜ä¿®æ”¹æ¢å¤åˆ°å·¥ä½œåŒº  
```

#### ä¸‰ã€ æ’¤é”€æ“ä½œ

- æ¢å¤æš‚å­˜åŒºæ–‡ä»¶åˆ°å·¥ä½œåŒº

```bash
$ git checkout <file-name> 
```

- æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº

```bash
$ git checkout .
```

- é‡ç½®æš‚å­˜åŒºçš„æŸæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜

```bash
$ git reset <file-name>
```

- é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´

```bash
$ git reset --hard <file-name>
# å¦‚æœæ˜¯å›é€€ç‰ˆæœ¬(commit)ï¼Œé‚£ä¹ˆfileï¼Œå˜æˆcommitçš„hashç å°±å¥½äº†ã€‚ 
```

- å»æ‰æŸä¸ªcommit

```bash
$ git revert <commit-hash>
# å®è´¨æ˜¯æ–°å»ºäº†ä¸€ä¸ªä¸åŸæ¥å®Œå…¨ç›¸åçš„commitï¼ŒæŠµæ¶ˆäº†åŸæ¥commitçš„æ•ˆæœ 
```

- resetå›é€€é”™è¯¯æ¢å¤

```bash
$ git reflog #æŸ¥çœ‹æœ€è¿‘æ“ä½œè®°å½•
$ git reset --hard HEAD{5} #æ¢å¤åˆ°å‰äº”ç¬”æ“ä½œ
$ git pull origin backend-log #å†æ¬¡æ‹‰å–ä»£ç 
```

#### å››ã€ç‰ˆæœ¬å›é€€ä¸å‰è¿›

- æŸ¥çœ‹å†å²ç‰ˆæœ¬

```bash
$ git log
```

- ä½ å¯èƒ½è§‰å¾—è¿™æ ·çš„logä¸å¥½çœ‹ï¼Œè¯•è¯•è¿™ä¸ª

```bash
$ git log --graph --decorate --abbrev-commit --all
```

- æ£€å‡ºåˆ°ä»»æ„ç‰ˆæœ¬

```bash
$ git checkout a5d88ea
# hashç å¾ˆé•¿ï¼Œé€šå¸¸6-7ä½å°±å¤Ÿäº†
```

- è¿œç¨‹ä»“åº“çš„ç‰ˆæœ¬å¾ˆæ–°ï¼Œä½†æ˜¯ä½ è¿˜æ˜¯æƒ³ç”¨è€ç‰ˆæœ¬è¦†ç›–

```bash
$ git push origin master --force
# æˆ–è€… git push -f origin master
```

- è§‰å¾—commitå¤ªå¤šäº†? å¤šä¸ªcommitåˆå¹¶ä¸º1ä¸ª

```bash
$ git rebase -i HEAD~4
# è¿™ä¸ªå‘½ä»¤ï¼Œå°†æœ€è¿‘4ä¸ªcommitåˆå¹¶ä¸º1ä¸ªï¼ŒHEADä»£è¡¨å½“å‰ç‰ˆæœ¬ã€‚å°†è¿›å…¥VIMç•Œé¢ï¼Œä½ å¯ä»¥ä¿®æ”¹æäº¤ä¿¡æ¯ã€‚æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯çš„commitï¼Œä¸å»ºè®®è¿™æ ·åšï¼Œå¤šäººåˆä½œæ—¶ï¼Œé€šå¸¸ä¸å»ºè®®ä¿®æ”¹å†å²ã€‚ 
```

- æƒ³å›é€€åˆ°æŸä¸€ä¸ªç‰ˆæœ¬

```bash
$ git reset --hard <hash>
# ä¾‹å¦‚ git reset --hard a3hd73r
# --hardä»£è¡¨ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼Œè®©å·¥ä½œåŒºä¸ç‰ˆæœ¬ä»£ç ä¸€æ¨¡ä¸€æ ·ï¼Œä¸ä¹‹å¯¹åº”ï¼Œ--softå‚æ•°ä»£è¡¨ä¿ç•™å·¥ä½œåŒºçš„ä¿®æ”¹ã€‚
```

- æƒ³å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œæœ‰æ²¡æœ‰ç®€ä¾¿æ–¹æ³•?

```bash
$ git reset --hard HEAD^ 
```

- å›é€€åˆ°ä¸Šä¸Šä¸ªç‰ˆæœ¬å‘¢?

```bash
$ git reset --hard HEAD^^
# HEAD^^å¯ä»¥æ¢ä½œå…·ä½“ç‰ˆæœ¬hashå€¼ã€‚
```

- å›é€€é”™äº†ï¼Œèƒ½ä¸èƒ½å‰è¿›å‘€

```bash
$ git reflog
# è¿™ä¸ªå‘½ä»¤ä¿ç•™äº†æœ€è¿‘æ‰§è¡Œçš„æ“ä½œåŠæ‰€å¤„çš„ç‰ˆæœ¬ï¼Œæ¯æ¡å‘½ä»¤å‰çš„hashå€¼ï¼Œåˆ™æ˜¯å¯¹åº”ç‰ˆæœ¬çš„hashå€¼ã€‚ä½¿ç”¨ä¸Šè¿°çš„git checkout æˆ–è€… git resetå‘½ä»¤ åˆ™å¯ä»¥æ£€å‡ºæˆ–å›é€€åˆ°å¯¹åº”ç‰ˆæœ¬ã€‚
```

- åˆšæ‰commitä¿¡æ¯å†™é”™äº†ï¼Œå¯ä»¥ä¿®æ”¹å—

```bash
$ git commit --amend
```

- çœ‹çœ‹å½“å‰çŠ¶æ€å§

```bash
$ git status 
```

#### äº”ã€é…ç½®å±äºä½ çš„Git

- çœ‹çœ‹å½“å‰çš„é…ç½®

```bash
$ git config --list 
```

- ä¼°è®¡ä½ éœ€è¦é…ç½®ä½ çš„åå­—

```bash
$ git config --global user.name "<name>
#  --globalä¸ºå¯é€‰å‚æ•°ï¼Œè¯¥å‚æ•°è¡¨ç¤ºé…ç½®å…¨å±€ä¿¡æ¯` 
```

- å¸Œæœ›åˆ«äººçœ‹åˆ°ä½ çš„commitå¯ä»¥è”ç³»åˆ°ä½ 

```bash
$ git config --global user.email "<email address>" 
```

- æœ‰äº›å‘½ä»¤å¾ˆé•¿ï¼Œèƒ½ä¸èƒ½ç®€åŒ–ä¸€ä¸‹

```bash
$ git config --global alias.logg "log --graph --decorate --abbrev-commit --all"
# ä¹‹åå°±å¯ä»¥å¼€å¿ƒåœ°ä½¿ç”¨ git logäº†
```

git reset --hard HEAD^ å¯ä»¥æœ¬åœ°åˆ æ‰æœ€åä¸€ä¸ªcommitã€‚

git push --force-with-lease æ¨é€åˆ°è¿œç¨‹åˆ æ‰æœ€åä¸€ä¸ªcommitã€‚

git cherry-pick HASH æœ€åæœ¬åœ°æ¢å¤æœ€åä¸€ä¸ªcommitã€‚
